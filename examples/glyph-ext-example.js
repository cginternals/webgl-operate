!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("gloperate"));else if("function"==typeof define&&define.amd)define(["gloperate"],t);else{var i="object"==typeof exports?t(require("gloperate")):t(e.gloperate);for(var a in i)("object"==typeof exports?exports:e)[a]=i[a]}}(self,(e=>(()=>{"use strict";var t={4558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Example=void 0;const a=i(4160);class s extends a.Initializable{showSpinner(){document.getElementsByClassName("spinner").item(0).style.display="inline"}hideSpinner(){document.getElementsByClassName("spinner").item(0).style.display="none"}expose(){window.canvas=this.canvas,window.context=this.canvas.context,window.controller=this.canvas.controller,window.renderer=this.renderer}initialize(e){const t=this.onInitialize(e);return this.renderer.loadingStatus$.subscribe((e=>{e===a.LoadingStatus.Finished?this.hideSpinner():e===a.LoadingStatus.Started&&this.showSpinner()})),this.expose(),t}uninitialize(){this.onUninitialize()}enableFullscreenOnCtrlClick(){const e=this.canvas.element;e.addEventListener("click",(t=>{t.ctrlKey&&a.viewer.Fullscreen.toggle(e)}))}}t.Example=s},4160:t=>{t.exports=e}},i={};function a(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,a),r.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphExtExample=void 0;const t=a(4160),i=a(4160),r=a(4558);class n extends i.Renderer{constructor(){super(...arguments),this._extensions=!1}onInitialize(e,a,s){return this._defaultFBO=new i.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._camera=new i.Camera,this._camera.eye=t.vec3.fromValues(0,0,1),this._camera.center=t.vec3.fromValues(0,0,0),this._camera.up=t.vec3.fromValues(0,1,0),this._camera.near=.1,this._camera.far=4,this._navigation=new i.Navigation(a,s),this._navigation.camera=this._camera,this._labelPass=new i.LabelRenderPass(e),this._labelPass.initialize(),this._labelPass.camera=this._camera,this._labelPass.target=this._defaultFBO,this._labelPass.depthMask=!1,i.FontFace.fromFiles("./data/opensans2048p160d16.fnt",new Map([[0,"./data/timesnewroman2080p160d16.png"]]),e).then((e=>{for(const t of this._labelPass.labels)t.fontFace=e;this._fontFace=e,this.finishLoading(),this.invalidate(!0)})).catch((e=>t.auxiliaries.log(t.auxiliaries.LogLevel.Error,e))),this.setupScene(),!0}onUninitialize(){super.uninitialize(),this._defaultFBO.uninitialize(),this._labelPass.uninitialize()}onDiscarded(){this._altered.alter("canvasSize"),this._altered.alter("clearColor"),this._altered.alter("frameSize"),this._altered.alter("multiFrameNumber")}onUpdate(){this._navigation.update();for(const e of this._labelPass.labels)if(e.altered||e.color.altered)return!0;return this._altered.any||this._camera.altered}onPrepare(){this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._camera.viewport=this._canvasSize),this._altered.clearColor&&this._defaultFBO.clearColor(this._clearColor),this._labelPass.update(),this._altered.reset(),this._camera.altered=!1}onFrame(e){const t=this._context.gl;t.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),this._defaultFBO.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT,!0,!1),this._labelPass.frame()}setupScene(){this._labelWrap=new i.Position3DLabel(new i.Text("Wrap: One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections."),i.Label.Type.Static),this._labelWrap.wrap=!0,this._labelWrap.lineWidth=.8,this._labelWrap.position=[-.3,.3,0],this._labelWrap.up=[0,1,0],this._labelPass.labels=[this._labelWrap];for(const e of this._labelPass.labels)e.fontSize=.05,e.color.fromHex("#fff"),e.fontSizeUnit=i.Label.Unit.World}}class l extends r.Example{onInitialize(e){this._canvas=new i.Canvas(e,{antialias:!1}),this._canvas.controller.multiFrameNumber=1,this._canvas.framePrecision=i.Wizard.Precision.byte,this._canvas.frameScale=[1,1],this._renderer=new n,this._canvas.renderer=this._renderer;const t=document.createElement("hl");t.setAttribute("style","z-index: 1; position: absolute; width: 100%; margin: 0; margin-left: 0%;border: none; border-bottom: 1pt solid #1c75bc; border-top: 1pt solid #1c75bc; top: 50%;");const a=document.createElement("vl");a.setAttribute("style","z-index: 1; position: absolute; height: 100%; margin: 0; margin-top: 0%;border: none; border-left: 1pt solid #1cbc75; border-right: 1pt solid #1cbc75; left: 50%;");const s=this._canvas.element.parentElement,r=this._canvas.element;return s.insertBefore(t,r),s.insertBefore(a,r),!0}onUninitialize(){this._canvas.dispose(),this._renderer.uninitialize()}get canvas(){return this._canvas}get renderer(){return this._renderer}}e.GlyphExtExample=l})(),s})()));
//# sourceMappingURL=glyph-ext-example.js.map