!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("gloperate"));else if("function"==typeof define&&define.amd)define(["gloperate"],t);else{var i="object"==typeof exports?t(require("gloperate")):t(e.gloperate);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(self,(function(e){return(()=>{"use strict";var t={4558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Example=void 0;const n=i(4160);class s extends n.Initializable{showSpinner(){document.getElementsByClassName("spinner").item(0).style.display="inline"}hideSpinner(){document.getElementsByClassName("spinner").item(0).style.display="none"}expose(){window.canvas=this.canvas,window.context=this.canvas.context,window.controller=this.canvas.controller,window.renderer=this.renderer}initialize(e){const t=this.onInitialize(e);return this.renderer.loadingStatus$.subscribe((e=>{e===n.LoadingStatus.Finished?this.hideSpinner():e===n.LoadingStatus.Started&&this.showSpinner()})),this.expose(),t}uninitialize(){this.onUninitialize()}enableFullscreenOnCtrlClick(){const e=this.canvas.element;e.addEventListener("click",(t=>{t.ctrlKey&&n.viewer.Fullscreen.toggle(e)}))}}t.Example=s},4160:t=>{t.exports=e}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var a=i[e]={exports:{}};return t[e](a,a.exports,n),a.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.LabelAnchorExample=void 0;const t=n(4160),i=n(4160),a=n(4558);class l extends i.Renderer{constructor(){super(...arguments),this._extensions=!1}onInitialize(e,n){return this._defaultFBO=new i.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),void 0===this._camera&&(this._camera=new i.Camera),this._labelPass=new i.LabelRenderPass(e),this._labelPass.initialize(),this._labelPass.camera=this._camera,this._labelPass.target=this._defaultFBO,this._labelPass.depthMask=!1,i.FontFace.fromFile("./data/opensans2048p160d16.fnt",e).then((e=>{for(const t of this._labelPass.labels)t.fontFace=e;this._fontFace=e,this.updateLabels(),this.finishLoading(),this.invalidate()})).catch((e=>t.auxiliaries.log(t.auxiliaries.LogLevel.Error,e))),this.setupScene(),!0}onUninitialize(){super.uninitialize(),this._defaultFBO.uninitialize(),this._labelPass.uninitialize()}onDiscarded(){this._altered.alter("canvasSize"),this._altered.alter("clearColor")}onUpdate(){for(const e of this._labelPass.labels)if(e.altered||e.color.altered)return!0;return this._altered.any||this._camera.altered}onPrepare(){this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._camera.viewport=this._canvasSize,this.updateLabels()),this._altered.clearColor&&this._defaultFBO.clearColor(this._clearColor),this._labelPass.update(),this._altered.reset(),this._camera.altered=!1}onFrame(e){const t=this._context.gl;t.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),this._defaultFBO.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT,!0,!1),this._labelPass.frame()}setupScene(){const e="One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections.";this._labelTop=new i.Position2DLabel(new i.Text(`Label.Anchor.Top |  ${e}`),i.Label.Type.Dynamic),this._labelTop.lineAnchor=i.Label.LineAnchor.Top,this._labelAscent=new i.Position2DLabel(new i.Text(`Label.Anchor.Ascent |  ${e}`),i.Label.Type.Dynamic),this._labelAscent.lineAnchor=i.Label.LineAnchor.Ascent,this._labelCenter=new i.Position2DLabel(new i.Text(`Label.Anchor.Center |  ${e}`),i.Label.Type.Dynamic),this._labelCenter.lineAnchor=i.Label.LineAnchor.Center,this._labelBaseline=new i.Position2DLabel(new i.Text(`Label.Anchor.Baseline |  ${e}`),i.Label.Type.Dynamic),this._labelBaseline.lineAnchor=i.Label.LineAnchor.Baseline,this._labelDescent=new i.Position2DLabel(new i.Text(`Label.Anchor.Descent |  ${e}`),i.Label.Type.Dynamic),this._labelDescent.lineAnchor=i.Label.LineAnchor.Descent,this._labelBottom=new i.Position2DLabel(new i.Text(`Label.Anchor.Bottom |  ${e}`),i.Label.Type.Dynamic),this._labelBottom.lineAnchor=i.Label.LineAnchor.Bottom,this._labelPass.labels=[this._labelTop,this._labelAscent,this._labelCenter,this._labelBaseline,this._labelDescent,this._labelBottom];for(const e of this._labelPass.labels)e.fontSize=20,e.color.fromHex("#fff"),e.fontSizeUnit=i.Label.Unit.Pixel}updateLabels(){if(!this._labelBaseline.valid)return;const e=this._canvasSize[1]/6,t=2.5*e,n=this._canvasSize[0]-32*i.Label.devicePixelRatio();this._labelTop.position=[.5*-n,t-0*e],this._labelAscent.position=[.5*-n,t-1*e],this._labelCenter.position=[.5*-n,t-2*e],this._labelBaseline.position=[.5*-n,t-3*e],this._labelDescent.position=[.5*-n,t-4*e],this._labelBottom.position=[.5*-n,t-5*e]}}class r extends a.Example{onInitialize(e){this._canvas=new i.Canvas(e,{antialias:!1}),this._canvas.controller.multiFrameNumber=1,this._canvas.framePrecision=i.Wizard.Precision.byte,this._canvas.frameScale=[1,1],this._renderer=new l,this._canvas.renderer=this._renderer;const t="z-index: 1; position: absolute; width: 98%; margin: 0; margin-left: 1%;border: none; border-top: 1pt solid #1c75bc;",n=document.createElement("hr");n.setAttribute("style",`${t} top:  8.3333%;`);const s=document.createElement("hr");s.setAttribute("style",`${t} top: 25.0000%;`);const a=document.createElement("hr");a.setAttribute("style",`${t} top: 41.6666%;`);const r=document.createElement("hr");r.setAttribute("style",`${t} top: 58.3333%;`);const o=document.createElement("hr");o.setAttribute("style",`${t} top: 75.0000%;`);const c=document.createElement("hr");c.setAttribute("style",`${t} top: 91.6666%;`);const h=this._canvas.element.parentElement,b=this._canvas.element;return h.insertBefore(n,b),h.insertBefore(s,b),h.insertBefore(a,b),h.insertBefore(r,b),h.insertBefore(o,b),h.insertBefore(c,b),!0}onUninitialize(){this._canvas.dispose(),this._renderer.uninitialize()}get canvas(){return this._canvas}get renderer(){return this._renderer}}e.LabelAnchorExample=r})(),s})()}));
//# sourceMappingURL=labelanchor-example.js.map