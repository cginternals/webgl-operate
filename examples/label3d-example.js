!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("gloperate"));else if("function"==typeof define&&define.amd)define(["gloperate"],t);else{var a="object"==typeof exports?t(require("gloperate")):t(e.gloperate);for(var i in a)("object"==typeof exports?exports:e)[i]=a[i]}}(self,(e=>(()=>{"use strict";var t={4558:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Example=void 0;const i=a(4160);class s extends i.Initializable{showSpinner(){document.getElementsByClassName("spinner").item(0).style.display="inline"}hideSpinner(){document.getElementsByClassName("spinner").item(0).style.display="none"}expose(){window.canvas=this.canvas,window.context=this.canvas.context,window.controller=this.canvas.controller,window.renderer=this.renderer}initialize(e){const t=this.onInitialize(e);return this.renderer.loadingStatus$.subscribe((e=>{e===i.LoadingStatus.Finished?this.hideSpinner():e===i.LoadingStatus.Started&&this.showSpinner()})),this.expose(),t}uninitialize(){this.onUninitialize()}enableFullscreenOnCtrlClick(){const e=this.canvas.element;e.addEventListener("click",(t=>{t.ctrlKey&&i.viewer.Fullscreen.toggle(e)}))}}t.Example=s},4160:t=>{t.exports=e}},a={};function i(e){var s=a[e];if(void 0!==s)return s.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,i),n.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.Label3DExample=void 0;const t=i(4160),a=i(4160),n=i(4558);class r extends a.Renderer{constructor(){super(...arguments),this._extensions=!1}onInitialize(e,i,s){return this._defaultFBO=new a.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._camera=new a.Camera,this._camera.eye=t.vec3.fromValues(0,0,1),this._camera.center=t.vec3.fromValues(0,0,0),this._camera.up=t.vec3.fromValues(0,1,0),this._camera.near=.1,this._camera.far=4,this._navigation=new a.Navigation(i,s),this._navigation.camera=this._camera,this._labelPass=new a.LabelRenderPass(e),this._labelPass.initialize(),this._labelPass.camera=this._camera,this._labelPass.target=this._defaultFBO,this._labelPass.depthMask=!1,a.FontFace.fromFile("./data/opensans2048p160d16.fnt",e).then((e=>{for(const t of this._labelPass.labels)t.fontFace=e;this._fontFace=e,this.updateLabels(),this.finishLoading(),this.invalidate(!0)})).catch((e=>t.auxiliaries.log(t.auxiliaries.LogLevel.Error,e))),this.setupScene(),!0}onUninitialize(){super.uninitialize(),this._defaultFBO.uninitialize(),this._labelPass.uninitialize()}onDiscarded(){this._altered.alter("canvasSize"),this._altered.alter("clearColor"),this._altered.alter("frameSize"),this._altered.alter("multiFrameNumber")}onUpdate(){this._navigation.update();for(const e of this._labelPass.labels)if(e.altered||e.color.altered)return!0;return this._altered.any||this._camera.altered}onPrepare(){this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._camera.viewport=this._canvasSize,this.updateLabels()),this._altered.clearColor&&this._defaultFBO.clearColor(this._clearColor),this._labelPass.update(),this._altered.reset(),this._camera.altered=!1}onFrame(e){const t=this._context.gl;t.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),this._defaultFBO.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT,!0,!1),this._labelPass.frame()}setupScene(){this._labelWrap=new a.Position3DLabel(new a.Text("Wrap: One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections."),a.Label.Type.Dynamic),this._labelWrap.wrap=!0,this._labelWrap.lineWidth=.8,this._labelCentered=new a.Position3DLabel(new a.Text("Label.LineAnchor\n+\nLabel.Alignment.Center"),a.Label.Type.Dynamic),this._labelCentered.lineAnchor=a.Label.LineAnchor.Center,this._labelCentered.alignment=a.Label.Alignment.Center,this._labelPass.labels=[this._labelWrap,this._labelCentered];for(const e of this._labelPass.labels)e.fontSize=.05,e.color.fromHex("#fff"),e.fontSizeUnit=a.Label.Unit.World}updateLabels(){this._labelWrap.valid&&(this._labelWrap.position=[-.3,0,0],this._labelWrap.up=[0,0,-1],this._labelCentered.position=[0,0,0])}}class l extends n.Example{onInitialize(e){this._canvas=new a.Canvas(e,{antialias:!1}),this._canvas.controller.multiFrameNumber=1,this._canvas.framePrecision=a.Wizard.Precision.byte,this._canvas.frameScale=[1,1],this._renderer=new r,this._canvas.renderer=this._renderer;const t=document.createElement("hl");t.setAttribute("style","z-index: 1; position: absolute; width: 100%; margin: 0; margin-left: 0%;border: none; border-bottom: 1pt solid #1c75bc; border-top: 1pt solid #1c75bc; top: 50%;");const i=document.createElement("vl");i.setAttribute("style","z-index: 1; position: absolute; height: 100%; margin: 0; margin-top: 0%;border: none; border-left: 1pt solid #1cbc75; border-right: 1pt solid #1cbc75; left: 50%;");const s=this._canvas.element.parentElement,n=this._canvas.element;return s.insertBefore(t,n),s.insertBefore(i,n),!0}onUninitialize(){this._canvas.dispose(),this._renderer.uninitialize()}get canvas(){return this._canvas}get renderer(){return this._renderer}}e.Label3DExample=l})(),s})()));
//# sourceMappingURL=label3d-example.js.map